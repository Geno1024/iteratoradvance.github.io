// Generated by CoffeeScript 1.4.0
(function(){NAN.Score=function(){function e(){this.value=0,this.displayedValue=0,this.position={x:20,y:$("#container").width()/2}}return e.prototype.addValue=function(e){return this.value+=e},e.prototype.update=function(){var e;return e=(this.value-this.displayedValue)*.1,this.displayedValue+=e,$(".score").html(""+Math.floor(this.displayedValue+.3))},e}(),NAN.NumberShow=function(){function e(e){var t=this;this.getElementAjax().hide(0),this.totalFrames=50,this.time=0,this.finished=!1,this.clicked=!1,this.getElement().show(),setStyleRuleValue(".number","visibility","hidden"),this.getElement().animate({opacity:"0.70"},200),this.getElementNumber().html(e.n),this.getElementScore().html(e.score.toString()+" points"),e.score!==0&&this.queryServer(e.n),this.getElementDescriptions().html(e.descriptions),this.getElement().click(function(){return t.onClick()}),this.getElement().on("touchstart",function(){return t.onClick()}),this.getElement().on("touchmove",function(){return t.onClick()}),this.getElement().on("touchend",function(){return t.onClick()})}return e.prototype.queryServer=function(e){var t=this;return queryNumber(-1),queryNumber(e,function(e){return t.getElementAjax().html("你第"+e+"个发现了这个数"),t.getElementAjax().fadeIn(200)})},e.prototype.getElement=function(){return $("#number-show")},e.prototype.getElementNumber=function(){return $("#number-show-number")},e.prototype.getElementScore=function(){return $("#number-show-score")},e.prototype.getElementDescriptions=function(){return $("#number-show-descriptions")},e.prototype.getElementAjax=function(){return $("#number-show-ajax")},e.prototype.onClick=function(){var e=this;if(this.clicked)return;return this.clicked=!0,console.log(this.finished),this.getElement().animate({opacity:"0.0"},200),setTimeout(function(){return e.finished=!0,e.getElement().hide()},200),setStyleRuleValue(".number","visibility","visible")},e.prototype.update=function(){var e;return this.time+=1,e=(1+Math.cos(this.time/this.totalFrames*Math.PI))/2},e}()}).call(this);